<!doctype html>
<html>
<head>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Voice Collector Project</title>
  <script type="text/javascript" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="css/styles.css">
  <script src="js/audiodisplay.js"></script>
  <script src="js/recorderjs/recorder.js"></script>
  <script src="js/main.js"></script>
</head>
<body>
  <div id="viz">   
    <div id="graphContainer">
      <canvas id="analyser"></canvas>
      <canvas id="wavedisplay" width="1024" height="500" style="display: none"></canvas>
    </div>
  </div>
  <div id="textContainer">
    <h1 id="titleText">Voice Collector</h1>
    <div id="promptContainer">
      <p id="prompt">Here is some text...</p>
    </div>
  </div>
  <div id="controls">
    <!-- <img id="record" src="img/mic128.png" onclick="toggleRecording(this);"> -->
    <img id="record" src="img/muted.svg" onclick="toggleRecording(this);">
    <a id="save" href="#"><img src="img/upload_blue.svg" id="save_img"></a>
    <img id="rotate" src="img/rotate.svg" onclick="loadSentence()">
  </div>
  <script type="text/javascript">
    function loadSentence(){
      let request = new XMLHttpRequest()
      request.open('GET', 'http://localhost:8080')
      request.responseType = 'text'
      request.onload = function(){
        // console.log(request.response)
        document.getElementById('prompt').innerHTML = request.response
      }
      request.send()
    }

    window.onload = loadSentence()
  </script>
</body>
</html>